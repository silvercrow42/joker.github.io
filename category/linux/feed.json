{
    "version": "https://jsonfeed.org/version/1",
    "title": "Joker • All posts by \"linux\" category",
    "description": "",
    "home_page_url": "https://silvercrow42.github.io/joker.github.io",
    "items": [
        {
            "id": "https://silvercrow42.github.io/joker.github.io/2024/09/25/%E3%80%90Linux%E3%80%91Linux%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB%E4%B8%8E%E8%AF%A6%E8%A7%A3/",
            "url": "https://silvercrow42.github.io/joker.github.io/2024/09/25/%E3%80%90Linux%E3%80%91Linux%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB%E4%B8%8E%E8%AF%A6%E8%A7%A3/",
            "title": "【Linux】Linux面试题汇总与详解",
            "date_published": "2024-09-25T01:54:17.000Z",
            "content_html": "<h2 id=\"设计理念\"><a class=\"markdownIt-Anchor\" href=\"#设计理念\">#</a> 设计理念</h2>\n<h3 id=\"什么是linux\"><a class=\"markdownIt-Anchor\" href=\"#什么是linux\">#</a> 什么是 Linux</h3>\n<p>Linux 是一种基于 Unix 的开源操作系统，其内核由 Linus Torvalds 在 1991 年创建。<br>\nLinux 操作系统以其稳定性和安全性著称，并且由于它是开源的，任何人都可以查看和修改其源代码，这使得 Linux 成为了一个非常灵活且可定制的操作系统。<br>\nLinux 可以运行在从嵌入式设备到超级计算机的各种硬件平台上，并且支持多用户、多任务、多线程和多 CPU。</p>\n<p>Linux 发行版指的是基于 Linux 内核构建的完整操作系统，它们通常包括了图形用户界面（GUI）、实用工具、文档以及安装程序等。<br>\n不同的发行版可能有不同的目标用户群、默认的应用程序集、系统配置工具以及软件包管理系统等。以下是一些常见的 Linux 发行版：</p>\n<ul>\n<li>Ubuntu - 这是一个非常流行的面向桌面用户的发行版，也是许多服务器的选择。Ubuntu 强调易用性和社区支持，并且拥有一个庞大的软件仓库，用户可以通过<br>\n APT (Advanced Package Tool) 轻松地安装软件。</li>\n<li>Red Hat Enterprise Linux (RHEL) - 这是一个商业化的发行版，主要用于企业环境中的服务器。RHEL 提供了长期的支持和服务，确保了企业的稳定运行。</li>\n<li>Fedora - Fedora 是 Red Hat 的社区版本，它经常作为新技术的试验场，为 RHEL 提供技术基础。Fedora 更新频繁，适合喜欢尝试新技术的用户。</li>\n<li>CentOS - 这是一个基于 RHEL 构建的免费发行版，旨在尽可能地兼容 RHEL。CentOS 通常用于那些希望使用类似 RHEL<br>\n 的稳定系统但又不想支付许可费用的场景。</li>\n<li>openSUSE - 这是一个德国的发行版，在欧洲尤其受欢迎。openSUSE 提供了一个稳定的平台，支持多种桌面环境，并且有一个强大的软件管理工具<br>\n YaST。</li>\n<li>Arch Linux - Arch Linux 以其滚动发布模式和高度可定制性而闻名，适合高级用户和那些希望从头开始构建自己系统的用户。</li>\n<li>Debian - Debian 是一个社区驱动的项目，致力于创造一个自由的操作系统。Debian 以其稳定性著称，并且是许多其他发行版的基础。</li>\n</ul>\n<h3 id=\"什么叫一切皆文件\"><a class=\"markdownIt-Anchor\" href=\"#什么叫一切皆文件\">#</a> 什么叫一切皆文件</h3>\n<p>在 Linux 系统中，“一切皆文件” 是一种设计理念，它来源于 Unix<br>\n 的设计哲学。这一理念的核心思想是将系统中的各种资源抽象成文件的形式，从而简化了对这些资源的操作。具体来说，这意味着无论是普通的文件、目录、硬件设备（如键盘、显示器、硬盘等）、网络连接还是进程间通信机制（如管道、套接字等），在<br>\n Linux 中都可以通过文件接口来访问和控制。<br>\n以下是 Linux 中一些被视为 “文件” 的资源的例子：</p>\n<ul>\n<li>普通文件 - 包含数据的文件，如文本文件、图片文件等。</li>\n<li>目录 - 在 Linux 中，目录也是一种特殊的文件，它包含的是指向其他文件或目录的索引节点。</li>\n<li>符号链接 - 又称为软链接，相当于 Windows 中的快捷方式，指向另一个文件的引用。</li>\n<li>硬链接 - 指向文件 inode（文件索引节点）的多个文件名，允许一个文件有多个路径名。</li>\n<li>设备文件 - 分为块设备文件（如硬盘、光驱）和字符设备文件（如串口、声卡），它们代表了物理设备，可以通过读写这些文件来与硬件交互。</li>\n<li>管道 - 一种进程间通信的方式，可以视为一种特殊的文件，用来在进程之间传递数据。</li>\n<li>套接字（Socket） - 用于网络通信或者本地进程间通信的一种机制，也可以通过文件系统来访问。</li>\n</ul>\n<p>这种 “一切皆文件” 的设计理念带来的好处是统一了对不同资源的操作方式，开发者只需要掌握一套 API 和工具就可以操作几乎所有的系统资源。<br>\n例如，打开一个硬件设备的操作和打开一个普通文件的操作在接口上是类似的，都是通过 open (), read (), write (), close ()<br>\n 这样的系统调用来完成。</p>\n<p>然而，这种设计也有一定的复杂性，特别是对于初学者来说，理解各种 “文件” 的概念和用途可能需要一定的时间。此外，使用任何硬件设备都需要将其挂载到文件系统的某个位置，否则无法访问。这种挂载机制确保了文件系统的灵活性和扩展性。</p>\n<h2 id=\"基础知识\"><a class=\"markdownIt-Anchor\" href=\"#基础知识\">#</a> 基础知识</h2>\n<h3 id=\"linux-文件结构\"><a class=\"markdownIt-Anchor\" href=\"#linux-文件结构\">#</a> Linux 文件结构</h3>\n<p>Linux 文件系统采用了一种倒置的树形结构，所有的文件和目录都从唯一的根目录 / 开始。这种结构使得文件组织变得非常清晰，并且易于理解和维护。<br>\n以下是 Linux 文件系统中一些主要目录的作用和内容概述：</p>\n<ul>\n<li><code>/ (根目录)</code>  - 所有其他文件和目录的起点。通常不直接存放文件。</li>\n<li><code>/bin</code>  - 存放必要的用户二进制文件（可执行文件），这些文件对于系统的启动和运行至关重要，任何用户都可以执行这些二进制文件。</li>\n<li><code>/boot</code>  - 存放启动系统所需的文件，如内核映像文件、引导加载程序等。</li>\n<li><code>/dev</code>  - 存放设备文件，即代表硬件设备的特殊文件，如硬盘、键盘、鼠标等。</li>\n<li><code>/etc</code>  - 存放系统配置文件的地方，大部分配置文件都是文本文件，可以被编辑以调整系统行为。</li>\n<li><code>/home</code>  - 存放普通用户的主目录，每个用户都有自己的目录，用于存储个人文件和设置。</li>\n<li><code>/lib</code>  - 存放系统启动和执行 /bin 和 /sbin 目录下的命令所需要的共享库文件。通常包含 32 位和 64 位的库文件，具体取决于系统配置。</li>\n<li><code>/lib64</code>  - 专门存放 64 位的库文件，特别是在 64 位的 Linux 系统中。 仅包含 64 位的库文件。</li>\n<li><code>/lost+found</code>  - 通常出现在文件系统挂载点，用于存放 fsck（文件系统检查工具）在修复文件系统时发现的丢失文件。</li>\n<li><code>/media</code>  - 用于挂载可移动媒体，如 USB 闪存盘、CD/DVD 驱动器等。</li>\n<li><code>/mnt</code>  - 用于挂载外部设备或文件系统，如 USB 驱动器、CD-ROM 等。</li>\n<li><code>/opt</code>  - 用于存放可选的第三方应用程序，这些应用程序通常是由厂商提供的。</li>\n<li><code>/proc</code>  - 一个虚拟文件系统，用于提供关于当前运行的进程的信息，以及系统内核的状态。这个目录的内容是由内核动态生成的。</li>\n<li><code>/sbin</code>  - 存放系统管理员使用的二进制文件，这些文件通常是只有 root 用户才有权限执行的。</li>\n<li><code>/sys</code>  - 类似于 /proc，但用于提供内核对象（如设备驱动程序）的接口。</li>\n<li><code>/tmp</code>  - 用于存放临时文件，这些文件通常在系统重启之后会被清除。</li>\n<li><code>/usr</code>  - 用于存放用户程序和数据，包括应用程序的二进制文件、帮助文件、文档等。/usr 下还有 /usr/bin 和 /usr/sbin<br>\n 目录，分别存放用户和系统管理员的程序。</li>\n<li><code>/usr/local</code>  - 用于存放本地管理员自行编译安装的软件和数据，避免与系统自带的软件发生冲突。</li>\n<li><code>/var</code>  - 存放系统产生的变动数据，如日志文件、邮件、打印队列、缓存等。</li>\n</ul>\n<p>这些目录构成了 Linux 文件系统的主体结构，每个目录都有其特定的功能和用途，有助于保持文件系统的整洁和高效。<br>\n了解这些基本目录及其作用对于管理和维护 Linux 系统非常重要。</p>\n<h3 id=\"linux-文件权限\"><a class=\"markdownIt-Anchor\" href=\"#linux-文件权限\">#</a> Linux 文件权限</h3>\n<p>在 Linux 系统中，文件权限是一个重要的概念，它决定了用户能够对文件或目录进行哪些操作。<br>\n文件权限是基于用户和组来管理的，每个文件都有一个所有者和一个所属组，并且有三种类型的权限：读（read, r）、写（write,<br>\nw）和执行（execute, x）。</p>\n<p>文件权限的基本构成</p>\n<p>文件权限由三组权限组成，每组权限对应不同的用户类别：</p>\n<ul>\n<li>所有者权限（User）：文件的所有者可以设置的权限。</li>\n<li>组权限（Group）：文件所属组的成员可以设置的权限。</li>\n<li>其他用户权限（Others）：不属于文件所有者也不属于文件所属组的其他用户可以设置的权限。</li>\n</ul>\n<p>每组权限又分为三种：</p>\n<ul>\n<li>读权限（r）：允许读取文件的内容或列出目录的内容。</li>\n<li>写权限（w）：允许修改文件的内容或在目录中添加 / 删除文件。</li>\n<li>执行权限（x）：允许执行文件（如果文件是可执行的程序或脚本）或访问目录内的内容。</li>\n</ul>\n<p>文件权限可以用两种方式表示：</p>\n<ul>\n<li>符号表示法：使用字母 rwx 或 -（表示无权限）来表示权限。</li>\n<li>数字表示法：使用数字 4（读）、2（写）、1（执行）来表示权限，每组权限的数字相加得到最终的权限值。</li>\n</ul>\n<p>示例：</p>\n<ul>\n<li>符号表示法：rwxr-xr-- 表示文件所有者有读写执行权限，所属组有读和执行权限，其他用户只有读权限。</li>\n<li>数字表示法：754 表示文件所有者有读写执行权限（4 + 2 + 1 = 7），所属组有读和执行权限（4 + 1 = 5），其他用户只有读权限（4 = 4）。</li>\n</ul>\n<p>Linux 还有一些特殊的权限位，比如 SUID（Set User ID）、SGID（Set Group ID）和 Sticky Bit（粘滞位），这些权限位通常用于特定的情况：</p>\n<ul>\n<li>SUID：如果一个可执行文件设置了 SUID 位，那么当非所有者执行这个文件时，该进程将具有文件所有者的权限。</li>\n<li>SGID：类似于 SUID，但对于目录而言，如果设置了 SGID 位，则在该目录中创建的新文件将继承目录的所属组。</li>\n<li>Sticky Bit：如果一个目录设置了 Sticky Bit，那么只有文件的所有者才能删除或重命名该目录中的文件。</li>\n</ul>\n<h2 id=\"linux命令\"><a class=\"markdownIt-Anchor\" href=\"#linux命令\">#</a> Linux 命令</h2>\n<h3 id=\"命令行含义\"><a class=\"markdownIt-Anchor\" href=\"#命令行含义\">#</a> 命令行含义</h3>\n<p>示例： <code>root@app00:~#</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root    #用户名，root为超级用户</span><br><span class=\"line\">@       #分隔符</span><br><span class=\"line\">app00   #主机名称</span><br><span class=\"line\">~       #当前所在目录，默认用户目录为~，会随着目录切换而变化，例如：（root@app00:/bin# ，当前位置在bin目录下）</span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">      <span class=\"comment\">#表示当前用户是超级用户，普通用户为$，例如：（&quot;yao@app00:/root$&quot; ，表示使用用户&quot;yao&quot;访问/root文件夹）</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"命令行快捷键\"><a class=\"markdownIt-Anchor\" href=\"#命令行快捷键\">#</a> 命令行快捷键</h3>\n<p>Linux 命令行中的快捷键主要用于提高在 Shell 中输入命令的效率。以下是一些常用的 Linux 命令行快捷键：</p>\n<ul>\n<li>Ctrl+A：移动光标到行首。</li>\n<li>Ctrl+E：移动光标到行尾。</li>\n<li>Ctrl+B 或 左箭头：向左移动一个字符。</li>\n<li>Ctrl+F 或 右箭头：向右移动一个字符。</li>\n<li>Ctrl+D：删除光标所在位置的字符。</li>\n<li>Ctrl+H 或 退格键：删除光标前的一个字符。</li>\n<li>Ctrl+T：交换光标前两个字符的位置。</li>\n<li>Ctrl+U：删除（剪切）光标前的所有字符。</li>\n<li>Ctrl+K：删除（剪切）光标及光标后的所有字符。</li>\n<li>Ctrl+W：删除（剪切）光标前的一个单词。</li>\n<li>Ctrl+Y：粘贴当前寄存器中的字符。</li>\n<li>Ctrl+L：清除屏幕，类似于 clear 命令。</li>\n<li>Ctrl+C：中断正在运行的命令。</li>\n<li>Ctrl+R：逆向搜索历史命令，即从最近的命令开始搜索。</li>\n<li>Ctrl+S：暂停终端（在某些终端中，这可能会导致屏幕锁定，使用 Ctrl+Q 解除）。</li>\n<li>Ctrl+Q：退出当前状态，如解除因 Ctrl+S 引起的屏幕锁定。</li>\n<li>Ctrl+D：如果没有输入任何命令就按此组合键，将会退出当前终端。</li>\n<li>Ctrl+Z：将当前正在运行的命令挂起，并返回到命令行提示符，可以使用 bg 或 fg 命令恢复任务。</li>\n<li>Ctrl+P 和 Ctrl+N：向上和向下翻阅命令历史。</li>\n</ul>\n<p>注意事项</p>\n<ul>\n<li>使用 Ctrl+S 和 Ctrl+Q：这两个快捷键在某些终端模拟器中可能会导致屏幕锁定，如果遇到这种情况，可以使用 Ctrl+Q 来解除锁定。</li>\n<li>使用 Ctrl+D：如果没有输入任何命令就按 Ctrl+D，将会退出当前的 Shell 会话。如果不想退出，可以在按 Ctrl+D 之前输入一些字符，比如空格，然后再按<br>\n Ctrl+D。</li>\n</ul>\n<h3 id=\"常用命令\"><a class=\"markdownIt-Anchor\" href=\"#常用命令\">#</a> 常用命令</h3>\n<h4 id=\"命令手册man\"><a class=\"markdownIt-Anchor\" href=\"#命令手册man\">#</a> 命令手册（man）</h4>\n<p>man 命令用于查看系统命令、实用工具、库函数以及其他系统组件的手册页。手册页提供了详细的文档，包括命令的使用方法、参数、环境变量、文件位置、退出状态、错误信息等信息。<br>\n以下是 man 命令的一些基本用法和参数：</p>\n<p>基本语法： <code>man [选项] [章节号] 命令名</code></p>\n<p>参数</p>\n<ul>\n<li>章节号：每个手册页都有一个章节号，用来区分不同类型的文档。例如：\n<ul>\n<li>1：用户命令。</li>\n<li>2：系统调用。</li>\n<li>3：库函数。</li>\n<li>4：特殊文件（通常是设备文件）。</li>\n<li>5：文件格式和配置文件。</li>\n<li>6：游戏。</li>\n<li>7：杂项（包括宏包和惯例）。</li>\n<li>8：系统管理命令。</li>\n</ul>\n</li>\n</ul>\n<p>选项</p>\n<ul>\n<li>-a 或 --all：在所有的手册页中搜索指定的命令或主题。</li>\n<li>-f 或 --apropos：等价于 whatis 命令，显示给定关键字的简短描述信息。</li>\n<li>-k 或 --apropos：等价于 -f，显示给定关键字的简短描述信息。</li>\n<li>-P 或 --pager：指定内容时使用分页程序，例如 less。</li>\n<li>-M 或 --manualdir：指定手册页搜索路径。</li>\n<li>-m 或 --arch：指定架构。</li>\n<li>-w 或 --where：显示手册页的位置。</li>\n</ul>\n<p>示例：</p>\n<ul>\n<li>查看 ls 命令的手册页：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man ls</span><br></pre></td></tr></table></figure>\n</li>\n<li>查看 ls 命令的第 1 章节的手册页：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man 1 ls</span><br></pre></td></tr></table></figure>\n</li>\n<li>在所有手册页中搜索 grep：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man -a grep</span><br></pre></td></tr></table></figure>\n</li>\n<li>使用 less 分页器查看 man 命令的手册页：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man -P less man</span><br></pre></td></tr></table></figure>\n</li>\n<li>查看与 grep 相关的手册页摘要：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man -f grep</span><br></pre></td></tr></table></figure>\n</li>\n<li>查找与 grep 相关的手册页：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man -k grep</span><br></pre></td></tr></table></figure>\n</li>\n<li>显示 ls 手册页的位置：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">man -w ls</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>注意事项</p>\n<p>在手册页中导航<br>\n一旦进入了手册页，你可以使用以下按键来进行导航和操作：</p>\n<ul>\n<li>空格键：向下滚动一页。</li>\n<li>b 或 Page Up：向上滚动一页。</li>\n<li>Enter：向下滚动一行。</li>\n<li>u 或 Page Down：向上滚动一行。</li>\n<li>/ 或？：搜索关键词（使用 / 向前搜索，? 向后搜索）。</li>\n<li>n 或 N：跳转到下一个或上一个搜索结果。</li>\n<li>q：退出手册页。</li>\n<li>h：显示帮助信息。</li>\n</ul>\n<h4 id=\"关闭系统shutdown\"><a class=\"markdownIt-Anchor\" href=\"#关闭系统shutdown\">#</a> 关闭系统（shutdown）</h4>\n<p>基本语法： <code>shutdown [选项] [时间] [警告信息]</code></p>\n<p>参数</p>\n<ul>\n<li>时间：指定何时执行关机或重启。可以是 <code>立即执行（now），几分钟后（+分钟数），或者指定的时间（hh:mm）</code> 。</li>\n<li>警告信息：可以附加一个消息给所有登录的用户，通知他们即将发生的动作。</li>\n</ul>\n<p>选项</p>\n<ul>\n<li>-h：关机。shutdown -h now 会立即关机。</li>\n<li>-r：重启。shutdown -r now 会立即重启。</li>\n<li>-k：发送警告信息给所有用户，但不执行关机或重启。</li>\n<li>-c：取消已经计划的关机或重启。</li>\n<li>-f：强制关机或重启，不执行文件系统检查（fsck）。</li>\n<li>-F：强制关机或重启，并且执行文件系统检查。</li>\n<li>-n：不通过 init 而直接由 shutdown 命令执行关机或重启。</li>\n<li>-t 秒数：指定从警告信息发出到真正执行关机或重启之间的延迟秒数。</li>\n</ul>\n<p>示例</p>\n<ol>\n<li>立即关机：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -h now</span><br></pre></td></tr></table></figure>\n</li>\n<li>立即重启：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -r now</span><br></pre></td></tr></table></figure>\n</li>\n<li>在 10 分钟后关机，并附带警告信息：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -h +10 &quot;System will shutdown in 10 minutes&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li>在晚上 10 点 30 分关机：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -h 22:30 &quot;System will shutdown at 22:30&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li>发送警告信息而不执行关机：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -k now &quot;This is a warning message&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li>取消已经计划的关机：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -c</span><br></pre></td></tr></table></figure>\n</li>\n<li>强制关机，不执行文件系统检查：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -hf now</span><br></pre></td></tr></table></figure>\n</li>\n<li>强制重启，并且执行文件系统检查：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -Fr now</span><br></pre></td></tr></table></figure>\n</li>\n<li>延迟 60 秒后关机：<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo shutdown -h +60</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>注意事项</p>\n<ul>\n<li>shutdown 命令通常需要超级用户权限，因此通常需要使用 sudo 前缀。</li>\n<li>当使用 shutdown 来计划关机或重启时，系统会向所有登录的用户发送通知。</li>\n<li>如果没有指定时间，shutdown 会默认在 1 分钟后执行关机或重启。</li>\n<li>使用 -k 选项时，系统不会真正关机或重启，只会发送警告信息给用户。</li>\n</ul>\n<h4 id=\"切换用户su\"><a class=\"markdownIt-Anchor\" href=\"#切换用户su\">#</a> 切换用户（su）</h4>\n<p>su（switch user）命令在 Linux 和 Unix-like 操作系统中用于切换当前用户到另一个用户的身份。<br>\n这个命令允许你临时以另一个用户的身份执行命令或继续工作，通常是为了获得更高的权限（如 root 用户权限）来执行某些需要特权的操作。</p>\n<p>基本语法： <code>su [选项] [用户名]</code></p>\n<p>参数</p>\n<ul>\n<li>用户名：指定要切换到的用户名。</li>\n</ul>\n<p>选项</p>\n<ul>\n<li>- 或 -l 或 --login：模拟一个完整的登录环境，这意味着它会加载目标用户的环境变量、家目录等。<br>\n如果不使用这个选项，su 只会改变用户 ID，而不会改变环境变量。</li>\n<li>-c 或 --command=command：变更用户身份并执行指定的命令，执行完毕后自动返回到原来的用户身份。</li>\n<li>-s 或 --shell=shell：指定要使用的 shell。默认情况下，su 会使用 /etc/passwd 文件中定义的目标用户的 shell。</li>\n<li>-m 或 -p 或 --preserve-environment：执行 su 时不改变环境变量。</li>\n<li>-f 或 --fast：不读取启动文件（如 csh.cshrc 等），仅适用于 csh 或 tcsh shell。</li>\n<li>-h 或 --help：显示帮助信息。</li>\n<li>-v 或 --version：显示版本信息。</li>\n</ul>\n<p>示例</p>\n<ul>\n<li>\n<p>切换到 root 用户： 使用如下命令并输入 root 用户的密码后，你将切换到 root 用户身份，并且提示符会变为 root 用户的提示符。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su root</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>切换到任意用户： 这里 username 是你要切换到的用户名称。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su username</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>以 root 用户身份执行单个命令： 这条命令将以 root 用户的身份执行 ls -l 命令，并在命令执行完毕后回到原始用户。</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su -c &#x27;ls -l&#x27; root</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>模拟登录到 root 用户： 这将模拟一个完整的登录环境，加载 root 用户的环境变量和 home 目录。</p>\n<ul>\n<li>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">su</span> - root</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>--code￼20--<span class=\"token operator\">></span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>保持当前环境变量不变的情况下切换用户：</p>\n<ul>\n<li>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">su</span> <span class=\"token parameter variable\">-m</span> username</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>--code￼21--<span class=\"token operator\">></span></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li>\n<p>指定 shell 来执行命令：</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su -s /bin/bash username</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>快速切换用户：</p>\n <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">su - username</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>注意事项</p>\n<ul>\n<li>密码要求：当切换到另一个用户时，通常需要输入该用户的密码。</li>\n<li>环境变量：使用 - 或 -l 选项时，会加载目标用户的环境变量，这可能会影响当前的工作环境。</li>\n<li>安全性：频繁使用 su 切换到 root 用户可能会增加系统的安全风险，因为这给予了用户完全的系统控制权。<br>\n在现代 Linux 系统中，推荐使用 sudo 命令来执行需要特权的操作，这样可以避免暴露 root 密码，并且可以对用户的权限进行细粒度控制。</li>\n<li>命令执行：使用 -c 选项时，要注意命令的引号包围问题，确保命令能够正确执行。</li>\n</ul>\n<h4 id=\"以其他用户的身份执行命令sudo\"><a class=\"markdownIt-Anchor\" href=\"#以其他用户的身份执行命令sudo\">#</a> 以其他用户的身份执行命令（sudo）</h4>\n<p>sudo（superuser do）命令在 Linux 和 Unix-like 操作系统中用于以其他用户（通常是 root 用户）的身份执行命令。<br>\n它提供了一种安全的方式来临时提升权限，以便执行需要特权的操作。</p>\n<p>基本语法： <code>sudo [选项] 命令</code></p>\n<p>参数</p>\n<ul>\n<li>命令：要以其他用户身份执行的具体命令。</li>\n</ul>\n<p>选项</p>\n<ul>\n<li>-u 用户名：指定要以哪个用户的身份执行命令，默认为 root 用户。</li>\n<li>-s：执行一个 shell，而不是具体的命令。</li>\n<li>-i：模拟一个完整的登录环境，类似于 su -。</li>\n<li>-l：列出当前用户可以执行的命令。</li>\n<li>-v：验证当前用户的密码，但不执行任何命令。</li>\n<li>-k：清除当前用户的 sudo 记录。</li>\n<li>-E 或 --preserve-env：保留当前环境变量。</li>\n<li>-H 或 --set-home：设置 HOME 环境变量为目标用户的家目录。</li>\n<li>-S：从标准输入读取密码。</li>\n<li>-V 或 --version：显示版本信息。</li>\n<li>-h 或 --help：显示帮助信息。</li>\n</ul>\n<p>示例</p>\n<ul>\n<li>以 root 用户身份执行命令：这条命令将以 root 用户的身份执行 ls -l 命令。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo ls -l</span><br></pre></td></tr></table></figure>\n</li>\n<li>以指定用户身份执行命令：这条命令将以 username 用户的身份执行 ls -l 命令。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -u username ls -l</span><br></pre></td></tr></table></figure>\n</li>\n<li>执行一个 shell：这条命令将以 root 用户的身份打开一个 shell。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -s</span><br></pre></td></tr></table></figure>\n</li>\n<li>模拟登录环境：这条命令将以 root 用户的身份模拟一个完整的登录环境。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -i</span><br></pre></td></tr></table></figure>\n</li>\n<li>列出可执行的命令：这条命令将列出当前用户可以执行的命令。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -l</span><br></pre></td></tr></table></figure>\n</li>\n<li>验证密码但不执行命令：这条命令将验证当前用户的密码，但不执行任何命令。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -v</span><br></pre></td></tr></table></figure>\n</li>\n<li>保留当前环境变量：这条命令将以 root 用户的身份执行 ls -l 命令，并保留当前环境变量。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -E ls -l</span><br></pre></td></tr></table></figure>\n</li>\n<li>设置 HOME 环境变量：这条命令将以 root 用户的身份执行 ls -l 命令，并设置 HOME 环境变量为 root 用户的家目录。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo -H ls -l</span><br></pre></td></tr></table></figure>\n</li>\n<li>从标准输入读取密码：这条命令将从标准输入读取密码，并以 root 用户的身份执行 ls -l 命令。<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo &quot;password&quot; | sudo -S ls -l</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>注意事项</p>\n<ul>\n<li>密码验证：使用 sudo 时通常需要输入当前用户的密码。密码验证的有效期通常为 5 分钟，之后需要重新输入密码。</li>\n<li>配置文件：sudo 的行为可以通过 /etc/sudoers 文件进行配置。只有被允许的用户才能使用 sudo 命令。<br>\n编辑 sudoers 文件通常需要使用 visudo 命令。</li>\n<li>安全性：sudo 命令提供了更好的安全性，因为它不需要暴露 root 密码，并且可以限制用户执行特定的命令。<br>\n建议尽量使用 sudo 而不是直接使用 su 切换到 root 用户。</li>\n<li>环境变量：使用 -E 选项时，会保留当前环境变量。如果不使用 -E，则会加载目标用户的环境变量。</li>\n<li>命令执行：使用 sudo 时，注意命令的引号包围问题，确保命令能够正确执行。</li>\n<li>日志记录：sudo 命令通常会被记录在系统日志中，便于审计和追踪。</li>\n</ul>\n",
            "tags": [
                "后端",
                "操作系统",
                "Linux"
            ]
        }
    ]
}